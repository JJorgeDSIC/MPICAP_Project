\documentclass[]{article}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{graphicx} %Resizebox
%opening
\title{}
\author{}

\begin{document}

\maketitle

\begin{abstract}

\end{abstract}

\section{Problem}

\begin{equation}
AX-XB = C; A,B,C,X \in \mathbb{R}^{nxn}
\end{equation}

Check correctness with:
\begin{equation}
||AX-BX - C||_{\mathbb{F}} = 0
\end{equation}

Steps:

You can decompose $B$ as follows:

\begin{equation}
B = QTQ^{T}; QQ^{T} = I, T \in \text{upper triang}
\end{equation}




Then:

\begin{gather}
AX-XB = C = AX-XQTQ^{T}\\ 
= (AX-XQTQ^{T})Q = CQ \\	
= AXQ-XQTQ^{T}Q = CQ \\
= AXQ-XQT= CQ \\
\end{gather}

If we consider $XQ = Y$ and $CQ = D$, we get:

\begin{equation}
AY-YT = D
\end{equation}

At this point, there are two options:

\begin{enumerate}
	\item $T$ is upper triangular
	\item $T$ is Schur?
\end{enumerate}

In the first case:

\begin{gather}
AY_{\cdot,1}-Y_{\cdot,1}t_{1,1} = D_1\\
(A-t_{1,1}I)Y_{\cdot,1} = D_1\\
\end{gather}

Where $(A-t_{1,1}I)$ is a known matrix, and then it becomes:

\begin{gather}
Zx = b
\end{gather}

Where $Z = (A-t_{1,1}I)$, $x = Y_{\cdot,1}$ and $b=D_1$.

After solving it, we can continue as follows:

\begin{gather}
AY_{\cdot,2}-t_{1,2}Y_{\cdot,1} - t_{2,2}Y_{\cdot,2} = D_2\\
(A-t_{2,2}I)Y_{\cdot,2}  = D_2 +  t_{1,2}Y_{\cdot,1}\\
\end{gather}

Where $(A-t_{2,2}I)$ is a known matrix, and then it becomes:

TO DO
\newpage

\begin{equation}
\resizebox{.9\hsize}{!}{$
\begin{pmatrix}
	a_{1,1} & a_{1,2} & a_{1,3}  & a_{1,4} \\
	a_{2,1} & a_{2,2} & a_{2,3}  & a_{2,4} \\
	a_{3,1} & a_{3,2} & a_{3,3}  & a_{3,4} \\
	a_{4,1} & a_{4,2} & a_{4,3}  & a_{4,4} \\
\end{pmatrix}
\begin{pmatrix}
y_{1,1} & y_{1,2} & y_{1,3}  & y_{1,4} \\
y_{2,1} & y_{2,2} & y_{2,3}  & y_{2,4} \\
y_{3,1} & y_{3,2} & y_{3,3}  & y_{3,4} \\
y_{4,1} & y_{4,2} & y_{4,3}  & y_{4,4} \\
\end{pmatrix}
-
\begin{pmatrix}
y_{1,1} & y_{1,2} & y_{1,3}  & y_{1,4} \\
y_{2,1} & y_{2,2} & y_{2,3}  & y_{2,4} \\
y_{3,1} & y_{3,2} & y_{3,3}  & y_{3,4} \\
y_{4,1} & y_{4,2} & y_{4,3}  & y_{4,4} \\
\end{pmatrix}
\begin{pmatrix}
t_{1,1} & t_{1,2} & t_{1,3}  & t_{1,4} \\
0 & t_{2,2} & t_{2,3}  & t_{2,4} \\
0 & 0 & t_{3,3}  & t_{3,4} \\
0 & 0 & 0  & t_{4,4} \\
\end{pmatrix}
=
\begin{pmatrix}
d_{1,1} & d_{1,2} & d_{1,3}  & d_{1,4} \\
d_{2,1} & d_{2,2} & d_{2,3}  & d_{2,4} \\
d_{3,1} & d_{3,2} & d_{3,3}  & d_{3,4} \\
d_{4,1} & d_{4,2} & d_{4,3}  & d_{4,4} \\
\end{pmatrix}
$}
\end{equation}


\begin{equation}
	AY_{\cdot,1}-Y_{\cdot,1}
	\begin{pmatrix}
	t_{1,1} & t_{1,2} & t_{1,3}  & t_{1,4} \\
	0 & t_{2,2} & t_{2,3}  & t_{2,4} \\
	0 & t_{3,2} & t_{3,3}  & t_{3,4} \\
	0 & 0 & 0  & t_{4,4} \\
	\end{pmatrix}
	=
	D_{\cdot,1}
\end{equation}


\begin{equation}
	AY_{\cdot,1}-Y_{\cdot,1}t_{1,1}=D_{\cdot,1}
\end{equation}



\begin{equation}
\resizebox{.9\hsize}{!}{$
	\begin{pmatrix}
	y_{1,1} & y_{1,2} & y_{1,3}  & y_{1,4} \\
	y_{2,1} & y_{2,2} & y_{2,3}  & y_{2,4} \\
	y_{3,1} & y_{3,2} & y_{3,3}  & y_{3,4} \\
	y_{4,1} & y_{4,2} & y_{4,3}  & y_{4,4} \\
	\end{pmatrix}
	\begin{pmatrix}
	t_{1,1} & t_{1,2} & t_{1,3}  & t_{1,4} \\
	0 & t_{2,2} & t_{2,3}  & t_{2,4} \\
	0 & t_{3,2} & t_{3,3}  & t_{3,4} \\
	0 & 0 & 0  & t_{4,4} \\
	\end{pmatrix}
	=
	\begin{pmatrix}
	y_{1,1}t_{1,1} & y_{1,1}t_{1,2}+ y_{1,2}t_{2,2} + y_{1,3}t_{3,2}& t_{1,3}  & t_{1,4} \\
	0 & y_{2,1}t_{1,2}+ y_{2,2}t_{2,2} + y_{2,3}t_{3,2} & t_{2,3}  & t_{2,4} \\
	0 & y_{3,1}t_{1,2}+ y_{3,2}t_{2,2} + y_{3,3}t_{3,2} & t_{3,3}  & t_{3,4} \\
	0 & y_{4,1}t_{1,2}+ y_{4,2}t_{2,2} + y_{4,3}t_{3,2} & 0  & t_{4,4} \\
	\end{pmatrix}
	$}
\end{equation}


\begin{equation}
AY_{\cdot,2}-Y_{\cdot,1}
\begin{pmatrix}
t_{1,1} & t_{1,2} & t_{1,3}  & t_{1,4} \\
0 & t_{2,2} & t_{2,3}  & t_{2,4} \\
0 & t_{3,2} & t_{3,3}  & t_{3,4} \\
0 & 0 & 0  & t_{4,4} \\
\end{pmatrix}
=
D_{\cdot,1}
\end{equation}







\begin{equation}
\resizebox{.9\hsize}{!}{$
	\begin{pmatrix}
	y_{1,1} & y_{1,2} & y_{1,3}  & y_{1,4} \\
	y_{2,1} & y_{2,2} & y_{2,3}  & y_{2,4} \\
	y_{3,1} & y_{3,2} & y_{3,3}  & y_{3,4} \\
	y_{4,1} & y_{4,2} & y_{4,3}  & y_{4,4} \\
	\end{pmatrix}
	\begin{pmatrix}
	t_{1,1} & t_{1,2} & t_{1,3}  & t_{1,4} \\
	0 & t_{2,2} & t_{2,3}  & t_{2,4} \\
	0 & t_{3,2} & t_{3,3}  & t_{3,4} \\
	0 & 0 & 0  & t_{4,4} \\
	\end{pmatrix}
	=
	\begin{pmatrix}
	y_{1,1}t_{1,1} & \cdots &y_{1,1}t_{1,3}+ y_{2,2}t_{2,3} + y_{3,3}t_{3,3} & t_{1,4} \\
	0 & \cdots  & y_{2,1}t_{1,3}+ y_{2,2}t_{2,3} + y_{3,3}t_{3,3}  & t_{2,4} \\
	0 & \cdots  & y_{3,1}t_{1,3}+ y_{2,2}t_{2,3} + y_{3,3}t_{3,3}  & t_{3,4} \\
	0 & \cdots  & y_{4,1}t_{1,3}+ y_{2,2}t_{2,3} + y_{3,3}t_{3,3}  & t_{4,4} \\
	\end{pmatrix}
	$}
\end{equation}



\begin{equation}
\resizebox{.9\hsize}{!}{$
	Y_{\cdot,1}t_{1,2}+	Y_{\cdot,2}t_{2,2}+	Y_{\cdot,3}t_{3,2}
	=
	\begin{pmatrix}
	y_{1,1}t_{1,1} & y_{1,1}t_{1,2}+ y_{1,2}t_{2,2} + y_{1,3}t_{3,2}& t_{1,3}  & t_{1,4} \\
	0 & y_{2,1}t_{1,2}+ y_{2,2}t_{2,2} + y_{2,3}t_{3,2} & t_{2,3}  & t_{2,4} \\
	0 & y_{3,1}t_{1,2}+ y_{3,2}t_{2,2} + y_{3,3}t_{3,2} & t_{3,3}  & t_{3,4} \\
	0 & y_{4,1}t_{1,2}+ y_{4,2}t_{2,2} + y_{4,3}t_{3,2} & 0  & t_{4,4} \\
	\end{pmatrix}
	\rightarrow D_{2}
	$}
\end{equation}

\begin{equation}
\resizebox{.9\hsize}{!}{$
	Y_{\cdot,1}t_{1,3}+	Y_{\cdot,2}t_{2,3}+	Y_{\cdot,3}t_{3,3}
	\rightarrow
	\begin{pmatrix}
	y_{1,1}t_{1,1} & \cdots &y_{1,1}t_{1,3}+ y_{1,2}t_{2,3} + y_{1,3}t_{3,3} & t_{1,4} \\
	0 & \cdots  & y_{2,1}t_{1,3}+ y_{2,2}t_{2,3} + y_{3,3}t_{3,3}  & t_{2,4} \\
	0 & \cdots  & y_{3,1}t_{1,3}+ y_{2,2}t_{2,3} + y_{3,3}t_{3,3}  & t_{3,4} \\
	0 & \cdots  & y_{4,1}t_{1,3}+ y_{2,2}t_{2,3} + y_{3,3}t_{3,3}  & t_{4,4} \\
	\end{pmatrix}
	\rightarrow D_{3}
	$}
\end{equation}


\begin{gather}
	AY_{\cdot,2} - Y_{\cdot,1}t_{1,2} -	Y_{\cdot,2}t_{2,2} -	Y_{\cdot,3}t_{3,2}= D_{2}\\
	AY_{\cdot,3} -  Y_{\cdot,1}t_{1,3} -	Y_{\cdot,2}t_{2,3} -	Y_{\cdot,3}t_{3,3}= D_{3}
\end{gather}

\begin{gather}
(A-t_{2,2}I)Y_{\cdot,2}- Y_{\cdot,1}t_{1,2} -	Y_{\cdot,3}t_{3,2}= D_{2}\\
AY_{\cdot,3} -  Y_{\cdot,1}t_{1,3} -	Y_{\cdot,2}t_{2,3}-	Y_{\cdot,3}t_{3,3}= D_{3}
\end{gather}

\begin{gather}
(A-t_{2,2}I)Y_{\cdot,2} - Y_{\cdot,1}t_{1,2} - D_{2}= Y_{\cdot,3}t_{3,2}\\
AY_{\cdot,3} -  Y_{\cdot,1}t_{1,3} -	Y_{\cdot,2}t_{2,3} -Y_{\cdot,3}t_{3,3}= D_{3}
\end{gather}

\begin{gather}
Y_{\cdot,3} = \frac{(A-t_{2,2}I)Y_{\cdot,2} - Y_{\cdot,1}t_{1,2} - D_{2}}{t_{3,2}}\\
AY_{\cdot,3} -  Y_{\cdot,1}t_{1,3} -	Y_{\cdot,2}t_{2,3} -	Y_{\cdot,3}t_{3,3}= D_{3}
\end{gather}


\begin{gather}
Y_{\cdot,3} = \frac{(A-t_{2,2}I)Y_{\cdot,2}}{t_{3,2}} - \frac{Y_{\cdot,1}t_{1,2}}{t_{3,2}} -\frac{D_{2}}{t_{3,2}}
\end{gather}

\begin{gather}
Y_{\cdot,3} = KY_{\cdot,2} - S\\
K = \frac{(A-t_{2,2}I)}{t_{3,2}}\\
S=\frac{Y_{\cdot,1}t_{1,2}}{t_{3,2}}-\frac{D_{2}}{t_{3,2}}\\
\end{gather}

\begin{gather}
AY_{\cdot,3} -  Y_{\cdot,1}t_{1,3} -	Y_{\cdot,2}t_{2,3} -	Y_{\cdot,3}t_{3,3}= D_{3}\\
A(KY_{\cdot,2}-S) -  Y_{\cdot,1}t_{1,3} -	Y_{\cdot,2}t_{2,3} -	(KY_{\cdot,2}-S) t_{3,3}= D_{3}\\
AKY_{\cdot,2}-AS -  Y_{\cdot,1}t_{1,3} -	Y_{\cdot,2}t_{2,3} -	KY_{\cdot,2}t_{3,3}-St_{3,3} = D_{3}\\
(AK-Kt_{3,3}-t_{1,3}I)Y_{\cdot,2}-AS - Y_{\cdot,1}t_{1,3} -St_{3,3} = D_{3}\\
(AK-Kt_{3,3}-t_{1,3}I)Y_{\cdot,2} = D_{3} + AS + Y_{\cdot,1}t_{1,3} + St_{3,3}\\
\end{gather}


%
%
%\begin{gather}
%Y_{\cdot,3} = \frac{(A-t_{2,2}I)Y_{\cdot,2} - Y_{\cdot,1}t_{1,2} - D_{2}}{t_{3,2}}\\
%A\left(\frac{(A-t_{2,2}I)Y_{\cdot,2} - Y_{\cdot,1}t_{1,2} - D_{2}}{t_{3,2}}\right)-  Y_{\cdot,1}t_{1,3} -	Y_{\cdot,2}t_{2,3}+	\left(\frac{(A-t_{2,2}I)Y_{\cdot,2} - Y_{\cdot,1}t_{1,2} - D_{2}}{t_{3,2}}\right)t_{3,3}= D_{3}
%\end{gather}
%
%
%\begin{gather}
%Y_{\cdot,3} = \frac{(A-t_{2,2}I)Y_{\cdot,2} - Y_{\cdot,1}t_{1,2} - D_{2}}{t_{3,2}}\\
%A\left(\frac{(A-t_{2,2}I)Y_{\cdot,2} - Y_{\cdot,1}t_{1,2} - D_{2}}{t_{3,2}}\right)-  Y_{\cdot,1}t_{1,3} -	Y_{\cdot,2}t_{2,3}+	\left(\frac{(A-t_{2,2}I)Y_{\cdot,2} - Y_{\cdot,1}t_{1,2} - D_{2}}{t_{3,2}}\right)t_{3,3}= D_{3}
%\end{gather}
%
%
%\begin{equation}
%\resizebox{.9\hsize}{!}{$
%	A
%	\begin{pmatrix}
%	y_{1,1} & y_{1,2} & y_{1,3}  & y_{1,4} \\
%	y_{2,1} & y_{2,2} & y_{2,3}  & y_{2,4} \\
%	y_{3,1} & y_{3,2} & y_{3,3}  & y_{3,4} \\
%	y_{4,1} & y_{4,2} & y_{4,3}  & y_{4,4} \\
%	\end{pmatrix}
%	-
%	\begin{pmatrix}
%	y_{1,1} & y_{1,2} & y_{1,3}  & y_{1,4} \\
%	y_{2,1} & y_{2,2} & y_{2,3}  & y_{2,4} \\
%	y_{3,1} & y_{3,2} & y_{3,3}  & y_{3,4} \\
%	y_{4,1} & y_{4,2} & y_{4,3}  & y_{4,4} \\
%	\end{pmatrix}
%	\begin{pmatrix}
%	t_{1,1} & t_{1,2} & t_{1,3}  & t_{1,4} \\
%	0 & t_{2,2} & t_{2,3}  & t_{2,4} \\
%	0 & t_{3,2} & t_{3,3}  & t_{3,4} \\
%	0 & 0 & 0  & t_{4,4} \\
%	\end{pmatrix}
%	=
%	D
%	$}
%\end{equation}
%
%



\end{document}
